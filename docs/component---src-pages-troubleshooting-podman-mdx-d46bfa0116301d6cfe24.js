"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([[131],{5178:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return p}});var a=n(3366),r=(n(7294),n(4983)),o=n(4295),i=["components"],l={},s={_frontmatter:l},c=o.Z;function p(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)(c,Object.assign({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Table of contents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#enabling-tracing"},"Enabling tracing")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#ports-are-not-available"},"Ports are not available")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#container-exits-with-code-137-or-outofmemoryerror"},"Container exits with code 137 or OutOfMemoryError")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#java-virtual-machine-(jvm)-crashes-with-a-segmentation-error"},"Java Virtual Machine (JVM) crashes with a segmentation error")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#can't-access-workplace-or-business-automation-studio-using-chrome-on-mac"},"Can’t access Workplace or Business Automation Studio using Chrome on Mac")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#error-loading-cache"},"Error loading cache")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#unable-to-retrieve-authentication-token"},"Unable to retrieve authentication token")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#opensearch-container-invalid"},"Opensearch container invalid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#opensearch-endpoint-failure"},"Opensearch endpoint failure"))),(0,r.kt)("h2",null,"Enabling tracing"),(0,r.kt)("p",null,"To enable tracing, update the trace settings in ",(0,r.kt)("inlineCode",{parentName:"p"},"<local workspace>/config/liberty-custom.xml")," after the server starts.  You don’t need to restart the server. Changes will take effect after about one minute."),(0,r.kt)("h2",null,"Ports are not available"),(0,r.kt)("p",null,"You might get the following error message when starting the “pc” container:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ERROR: for pc  Cannot start service pc: Ports are not available: listen tcp 0.0.0.0:9443: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.\n")),(0,r.kt)("p",null,"This message means that the host port is already in use."),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file and choose another host port. For example, set the host port to 7443 as in this example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[...]\n  pc:\n    [...]    \n    ports:\n      - "7443:9443"\n    [...] \n    environment:\n    [...] \n      - EXTERNAL_HTTPS_PORT=7443\n[...]\n')),(0,r.kt)("p",null," After you make the update, use ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose down")," to stop and delete the environment and then use  ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose up")," to start the environment again."),(0,r.kt)("h2",null,"Container exits with code 137 or OutOfMemoryError"),(0,r.kt)("p",null,"You might get an OutOfMemoryError (OOM error) during server startup, or you might get the following message when enabling Process Federation Server:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"exited with code 137\n")),(0,r.kt)("p",null,"This OOM error and the message indicate that a container suddenly exited, probably because the Docker engine didn’t have the available resources to run the workload. "),(0,r.kt)("p",null,"If the only running Docker containers on your Docker engine are the ones running the Workflow Process Service Trial image and the one running Elasticsearch, you must ensure that you have at least:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"CPUs: 2"),(0,r.kt)("li",{parentName:"ul"},"Memory: 4.00 GB"),(0,r.kt)("li",{parentName:"ul"},"Swap: 1GB")),(0,r.kt)("p",null,"If your Docker engine relies on a VM backend (Docker Desktop for Mac and Docker Desktop for Windows with Hyper-V backend), you can increase these values from the Settings -> Resources page of the Docker Desktop front-end user interface. "),(0,r.kt)("p",null,"If the Docker engine doesn’t rely on a VM backend (Docker on Linux and Docker Desktop for Windows with WSL 2 backend), you must provide more resources to your Docker host to meet the requirements."),(0,r.kt)("h2",null,"Java Virtual Machine (JVM) crashes with a segmentation error"),(0,r.kt)("p",null,"The embedded Java Runtime Environment (JRE) from the Workflow Process Service image might cause Java Virtual Machine (JVM) to crash with a segmentation error, usually after tracing is enabled. When JVM crashes, you see the following segmentation error message in the system error stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Type=Segmentation error vmState=0x00000000\nJ9Generic_Signal_Number=00000018 Signal_Number=0000000b Error_Value=00000000 Signal_Code=00000080\nHandler1=00007FF6E4FD8470 Handler2=00007FF6E48AD1F0 InaccessibleAddress=0000000000000000\nRDI=00007FF6441C5070 RSI=0000000000000000 RAX=D704122B2A002CB5 RBX=000000000109FF00\nRCX=00000000426F8790 RDX=0000000000000000 R8=0000000000000000 R9=0000000000000000\nR10=FFFFFFFFFFFFFFFF R11=0000000000000000 R12=00007FF6441C5070 R13=00007FF6E52D1800\nR14=D70492216E1C7D3D R15=00007FF65FFFC9D0\nRIP=00007FF6E5083D53 GS=0000 FS=0000 RSP=00007FF65FFFC600\nEFlags=0000000000010202 CS=0033 RBP=00000000000001B8 ERR=0000000000000000\nTRAPNO=000000000000000D OLDMASK=0000000000000000 CR2=0000000000000000\n\n")),(0,r.kt)("p",null,"To minimize the chance of a JVM crash, add the JVM parameter ",(0,r.kt)("inlineCode",{parentName:"p"},"-Xshareclasses:none")," when you start the container to disable the shared classes cache. Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file to add ",(0,r.kt)("inlineCode",{parentName:"p"},"JVM_ARGS='-Xshareclasses:none'")," under the environment section. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"environment:\n      - LICENSE=accept\n      - EXTERNAL_HOSTNAME=localhost\n      - EXTERNAL_HTTPS_PORT=9443\n      # PFS properties\n      - PFS_ENABLE=false\n      - JVM_ARGS='-Xshareclasses:none'\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Note")),": This problem was fixed in 21.0.2 IF002."),(0,r.kt)("h2",null,"Can’t access Workplace or Business Automation Studio using Chrome on Mac"),(0,r.kt)("p",null,"If you can’t access Workplace or Business Automation Studio from the Chrome browser on Mac, try another browser. Alternatively, follow these steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Click the lock icon to the left of the URL."),(0,r.kt)("li",{parentName:"ol"},"In the box that pops up, click ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"Certificate is not valid")),"."),(0,r.kt)("li",{parentName:"ol"},"Another box pops up showing information about the certificate. Drag the large certificate icon to a Finder window. A ",(0,r.kt)("inlineCode",{parentName:"li"},"cer")," file is created in the location you drag it to."),(0,r.kt)("li",{parentName:"ol"},"Open the Keychain Access app on your Mac."),(0,r.kt)("li",{parentName:"ol"},"Go to the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"Certificates"))," tab and drag your ",(0,r.kt)("inlineCode",{parentName:"li"},"cer")," file onto the Keychain Access app."),(0,r.kt)("li",{parentName:"ol"},"Double-click your Workflow Process Service certificate and expand the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"Trust"))," section. Under the ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"When using this certificate"))," section, set the value to ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"Always Trust")),".\nClose the dialog box and use your Mac password to save your settings.")),(0,r.kt)("h2",null,"Error loading cache"),(0,r.kt)("p",null,"If you get the following error message when starting the ",(0,r.kt)("inlineCode",{parentName:"p"},"pc")," container:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'WARN[0046] Error validating CNI config file /etc/cni/net.d/root_default.conflist: [plugin bridge does not support config version "1.0.0" plugin portmap does not support config version "1.0.0" plugin firewall does not support config version "1.0.0" plugin tuning does not support config version "1.0.0"] \n')),(0,r.kt)("p",null,"It might be because the Container Network Interface (CNI) plugins installed on your system are not compatible with the ",(0,r.kt)("inlineCode",{parentName:"p"},"1.0.0")," version configuration in the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/cni/net.d/root_default.conflist")," file. To fix this problem, open the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/cni/net.d/root_default.conflist")," file and change the configuration from ",(0,r.kt)("inlineCode",{parentName:"p"},'"cniVersion": "1.0.0"')," to ",(0,r.kt)("inlineCode",{parentName:"p"},'"cniVersion": "0.4.0"'),"."),(0,r.kt)("h2",null,"Unable to retrieve authentication token"),(0,r.kt)("p",null,"If you get the following error:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Error response from daemon: {"progressDetail":{},"errorDetail":{"message":"initializing source docker://docker-na-public.artifactory.swg-devops.com/hyc-baw-team-docker-local/bas/workflow-ps-trial:23.0.2-latest-amd64: unable to retrieve auth token: invalid username/password: unknown: Authentication is required"},"error":"initializing source docker://docker-na-public.artifactory.swg-devops.com/hyc-baw-team-docker-local/bas/workflow-ps-trial:23.0.2-latest-amd64: unable to retrieve auth token: invalid username/password: unknown: Authentication is required"}\nError: executing C:\\Users\\Administrator\\AppData\\Local\\Microsoft\\WindowsApps\\docker-compose.exe up: exit status 18\n')),(0,r.kt)("p",null,"It might be because the ",(0,r.kt)("inlineCode",{parentName:"p"},"podman compose up")," command calls ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.exe")," on Windows, so the Podman login will not work. To fix this problem, run the Podman login command manually. For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"podman login -u <username> -p <password> <registry_url>\n")),(0,r.kt)("p",null,"After, the credentials will be stored in the configuration file ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.config/containers/auth.json"),". For Docker, the credentials are stored in ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.docker/config.json")," by default. Copy the contents from ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.config/containers/auth.json")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"$HOME/.docker/config.json"),". After this is complete, ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose")," will use the correct credentials when pulling the image."),(0,r.kt)("h2",null,"Opensearch container invalid"),(0,r.kt)("p",null,"If you get the following error:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Error: "opensearch" is not a valid container, cannot be used as a dependency: no container with name or ID "opensearch" found: no such container\nexit code: 125\n')),(0,r.kt)("p",null,"Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file and change the Opensearch image configuration to the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"opensearch:\n  image: docker.io/opensearchproject/opensearch:2.7.0\n")),(0,r.kt)("h2",null,"Opensearch endpoint failure"),(0,r.kt)("p",null,"If you get the following error:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Failure on endpoint http://opensearch:9200: opensearch. Will not retry before at least 5 seconds\n")),(0,r.kt)("p",null,"Run the following command to check your DNS configuration:  "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"podman network ls\n\npodman network inspect [network_name]\n")),(0,r.kt)("p",null,"If the output of the command contains ",(0,r.kt)("inlineCode",{parentName:"p"},'"dns_enabled": false'),", you need enable DNS by completing the following steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Get the IP address of the Opensearch container:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"podman inspect opensearch|grep IPAddress\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Stop the ",(0,r.kt)("inlineCode",{parentName:"p"},"pc")," container by running the following command:  "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"podman stop pc\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open the ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file and replace ",(0,r.kt)("inlineCode",{parentName:"p"},"opensearch")," in the line ",(0,r.kt)("inlineCode",{parentName:"p"},"- PFS_REMOTEELASTICSEARCH_ENDPOINTS=http://opensearch:9200")," with the IP address of the Opensearch container.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Restart the environment by running the following command:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"podman-compose up\n")))))}p.isMDXComponent=!0},4295:function(e,t,n){n.d(t,{Z:function(){return v}});var a=n(7294),r=n(8650),o=n.n(r),i=n(5444),l=n(5426),s=n(4311),c=n(5900),p=n.n(c),m=function(e){var t,n=e.title,r=e.theme,o=e.tabs,i=void 0===o?[]:o;return a.createElement("div",{className:p()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=i.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===r,t))},a.createElement("div",{className:"bx--grid"},a.createElement("div",{className:"bx--row"},a.createElement("div",{className:"bx--col-lg-12"},a.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},n)))))},u=function(e){var t=e.relativePagePath,n=e.repository,r=(0,i.useStaticQuery)("1364590287").site.siteMetadata.repository,o=n||r,l=o.baseUrl,s=o.subDirectory,c=l+"/edit/"+o.branch+s+"/src/pages"+t;return l?a.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},a.createElement("div",{className:"bx--col"},a.createElement("a",{className:"EditLink-module--link--IDrl1",href:c},"Edit this page on GitHub"))):null},d=n(4275),h=n(1721),k=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.tabs,r=e.slug,l=r.split("/").filter(Boolean).slice(-1)[0],s=n.map((function(e){var t,n=o()(e,{lower:!0,strict:!0}),s=n===l,c=new RegExp(l+"/?(#.*)?$"),m=r.replace(c,n);return a.createElement("li",{key:e,className:p()((t={},t["PageTabs-module--selected-item--aBB0K"]=s,t),"PageTabs-module--list-item--024o6")},a.createElement(i.Link,{className:"PageTabs-module--link--Kz-7R",to:""+m},e))}));return a.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},a.createElement("div",{className:"bx--grid"},a.createElement("div",{className:"bx--row"},a.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},a.createElement("nav",{"aria-label":t},a.createElement("ul",{className:"PageTabs-module--list--xLqxG"},s))))))},t}(a.Component),g=k,f=n(2881),N=n(6958),b=n(36),w=function(e){var t=e.date,n=new Date(t);return t?a.createElement(b.X2,{className:"last-modified-date-module--row--XJoYQ"},a.createElement(b.sg,null,a.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",n.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},v=function(e){var t=e.pageContext,n=e.children,r=e.location,c=e.Title,p=t.frontmatter,h=void 0===p?{}:p,k=t.relativePagePath,b=t.titleType,v=h.tabs,y=h.title,E=h.theme,C=h.description,F=h.keywords,D=h.date,x=(0,N.Z)().interiorTheme,P=(0,i.useStaticQuery)("2456312558").site.pathPrefix,R=P?r.pathname.replace(P,""):r.pathname,S=v?R.split("/").filter(Boolean).slice(-1)[0]||o()(v[0],{lower:!0}):"",T=E||x;return a.createElement(s.Z,{tabs:v,homepage:!1,theme:T,pageTitle:y,pageDescription:C,pageKeywords:F,titleType:b},a.createElement(m,{title:c?a.createElement(c,null):y,label:"label",tabs:v,theme:T}),v&&a.createElement(g,{title:y,slug:R,tabs:v,currentTab:S}),a.createElement(f.Z,{padded:!0},n,a.createElement(u,{relativePagePath:k}),a.createElement(w,{date:D})),a.createElement(d.Z,{pageContext:t,location:r,slug:R,tabs:v,currentTab:S}),a.createElement(l.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-troubleshooting-podman-mdx-d46bfa0116301d6cfe24.js.map